<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Contribute ‚Äî Meesho India</title>
  <meta name="description" content="Contribution demo ‚Äî Meesho Clone (not an official shopping site). Optionally contribute to the Indian Army Fund." />
  <meta name="robots" content="index, follow" />
  <link rel="icon" href="/favicon.ico" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --primary:#ff3f6c;
      --primary-dark:#d63558;
      --muted:#6c757d;
      --bg:linear-gradient(180deg,#fff,#fffafc);
      --card:#fff;
      --shadow:rgba(0,0,0,0.08);
      --font:'Poppins',sans-serif;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:var(--font);
      background:var(--bg);
      color:#222;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      min-height:100vh;
      display:flex;
      flex-direction:column;
    }

    /* NAV */
    header{
      background:#fff;
      padding:10px 18px;
      box-shadow:0 4px 10px var(--shadow);
      position:sticky;
      top:0;
      z-index:1100;
      display:flex;
      align-items:center;
      gap:12px;
    }
    .logo{font-weight:800;font-size:1.8rem;color:#ff3f6c;text-decoration:none;text-transform:lowercase;user-select:none}
    .search-bar{flex:1;display:flex;justify-content:center;min-width:180px}
    .search-inner{width:100%;max-width:720px;display:flex;align-items:center;gap:12px;padding:10px 14px;border-radius:28px;background:#fff;border:1px solid #eee;box-shadow:0 6px 18px rgba(62,45,80,0.03)}
    .search-icon{width:38px;height:38px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;background:#faf5fb;color:#6c4b6b}
    .search-inner input{border:0;outline:0;background:transparent;font-size:15px;width:100%;padding:6px 0}
    .nav-actions{display:flex;align-items:center;gap:12px}

    /* MAIN LAYOUT */
    main{max-width:1200px;margin:24px auto;padding:0 16px;flex:1}
   .hero-card{
  display: flex;
  flex-direction: column;  /* stack top-down */
  align-items: center;     /* center horizontally */
  justify-content: center; /* center vertically within its area */
  gap: 20px;
  margin: 0 auto;          /* center the whole block */
  width: 100%;
  max-width: 800px;        /* optional: keeps layout balanced on large screens */
}

    @media (max-width:980px){ .hero-card{grid-template-columns:1fr} }

    .panel{
      background:var(--card);border-radius:14px;padding:20px;box-shadow:0 10px 30px rgba(0,0,0,0.06);
      transition:transform .3s ease, box-shadow .3s ease;
    }
    .panel:hover{transform:translateY(-6px);box-shadow:0 20px 50px rgba(0,0,0,0.08)}

    .title{color:var(--primary);font-size:1.6rem;margin:0 0 6px;font-weight:800}
    .subtitle{color:var(--muted);margin:0 0 12px}

    /* QR + CTA */
    .qr-wrap{text-align:center;display:flex;flex-direction:column;align-items:center;gap:14px;padding:16px;border-radius:12px;background:linear-gradient(180deg,#fff,#fff9fb)}
    .qr-image{width:220px;height:220px;border-radius:12px;padding:12px;background:#fff;display:flex;align-items:center;justify-content:center;box-shadow:0 8px 30px rgba(0,0,0,0.06)}
    @media (max-width:700px){ .qr-image{width:180px;height:180px} }

    .note{display:flex;gap:10px;align-items:flex-start;background:#fff8fb;border-radius:10px;padding:12px;border:1px solid rgba(255,63,108,0.06);box-shadow:0 6px 18px rgba(255,63,108,0.03);color:var(--muted)}

    /* Yes/No */
    .choices{display:flex;gap:10px;align-items:center;justify-content:center;margin-top:10px;flex-wrap:wrap}
    .btn{background:var(--primary);color:#fff;border:none;padding:10px 16px;border-radius:999px;font-weight:800;cursor:pointer;box-shadow:0 8px 24px rgba(255,63,108,0.12)}
    .btn.secondary{background:#fff;color:var(--primary);border:2px solid rgba(255,63,108,0.12)}
    .yes-counter{font-weight:800;color:var(--primary-dark);margin-left:8px;font-size:0.98rem}

    /* Form panel */
    .form-panel{margin-top:18px;border-radius:12px;overflow:hidden}
    .form-header{background:#fff;padding:16px;border-bottom:1px solid #f2f2f2;display:flex;align-items:center;justify-content:space-between}
    .form-header h2{margin:0;color:var(--primary);font-weight:800;font-size:1.1rem}
    .form-body{background:#fff;padding:0;border-radius:0}
    .iframe-wrap{width:100%;min-height:920px;border:0}
    /* use a tall min-height so submit button is visible across devices */
    @media (max-width:700px){ .iframe-wrap{min-height:1100px} }

    /* helper link to open form if embed clipped */
    .open-link{display:inline-block;margin-top:10px;padding:10px 14px;border-radius:10px;text-decoration:none;background:#fff;color:var(--primary);border:2px solid rgba(255,63,108,0.12);font-weight:700}

    /* footer */
    footer{background:#222;color:#ccc;text-align:center;padding:18px;margin-top:18px}

    /* toast */
    .toast{position:fixed;right:18px;bottom:18px;background:#fff;padding:12px 16px;border-radius:10px;box-shadow:0 12px 36px rgba(0,0,0,0.12);display:flex;gap:12px;align-items:center;transform:translateY(20px);opacity:0;transition:transform .28s ease,opacity .28s ease}
    .toast.show{transform:translateY(0);opacity:1}
  

/* Minimal ‚Äî force search bar to the next line and full width on small screens */
@media (max-width: 700px) {
  header {
    display: flex;        /* keep flex but allow wrapping */
    flex-wrap: wrap;
    align-items: center;
    gap: 8px;
  }

  /* Put nav-actions (icons) on the first row, search bar on the row below */
  .nav-actions {
    order: 1;
    align-self: center;
    margin-left: auto;    /* keep icons to the right on the first row */
  }

  .search-bar {
    order: 2;             /* moves it below the nav-actions row */
    flex-basis: 100%;     /* occupy full width */
    width: 100%;
    margin: 8px 0 0 0;    /* small gap above */
    justify-content: center;
    padding: 0 10px;      /* breathing room left/right */
  }

  .search-inner {
    max-width: 100%;      /* let inner search fill the available width */
    width: 100%;
  }

  /* If you have .home-btn text you want hidden on mobile, keep its icon-only behaviour */
  .home-btn span { display: none; }
}
/* Remove box from profile icon */
.action-btn[aria-label="Profile"] {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
}
.action-btn[aria-label="Profile"]:hover {
  background: transparent !important;
  transform: none !important;
  box-shadow: none !important;
}

  </style>
</head>
<body>
  <!-- NAV -->
  <header>
    <a class="logo" href="index.html" aria-label="Meesho home">meesho</a>

    <div class="search-bar" role="search" aria-label="Search products">
      <div class="search-inner">
        <span class="search-icon" aria-hidden="true">üîç</span>
        <input id="searchInput" type="search" placeholder="Try Saree, Kurti or Search by Product Code" />
      </div>
    </div>

    <div class="nav-actions" role="navigation" aria-label="User actions">
      <a href="index.html" class="action-btn" title="Home" aria-label="Home">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z" stroke="#6c757d" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/></svg>
      </a>
      <button class="action-btn" id="profileBtn" title="Profile" aria-label="Profile">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M12 12c2.761 0 5-2.239 5-5s-2.239-5-5-5-5 2.239-5 5 2.239 5 5 5zM4 20.5c0-3.59 3.91-6.5 8-6.5s8 2.91 8 6.5" stroke="#6c757d" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/></svg>
      </button>
      <a href="cart.html" class="action-btn" title="Cart" aria-label="Cart">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M6 6h15l-1.5 9h-12L4 2H2" stroke="#6c757d" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/></svg>
      </a>
    </div>
  </header>

  <main>
    <div class="hero-card">
      <!-- LEFT: QR + yes/no -->
      <section class="panel" aria-labelledby="heading">
        <h1 id="heading" class="title" style="text-align: center;">Payment Page</h1>
        <p class="subtitle">This is a <strong>Meesho Clone</strong> page ‚Äî <strong>not an official shopping site</strong>. If you like the design, please consider contributing to the National Defence Fund for our Armed Forces.</p>


        <div class="qr-wrap" aria-hidden="false">
          <div class="qr-image" id="qrContainer">
            <img id="qrImg" src="qrcode_www.pmindia.gov.in.png" alt="QR Code" style="width:100%;height:100%;object-fit:contain;border-radius:8px" />
          </div>
          <div style="max-width:520px;color:var(--muted)">Scan this QR code.</div>
        </div>

        <div style="margin-top:18px;text-align:center">
          <div class="note" role="note" style="margin:0 auto;max-width:640px">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M12 2v10" stroke="#ff3f6c" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/><circle cx="12" cy="17" r="1" fill="#ff3f6c"/></svg>
            <div>
              <div style="font-weight:800" >Important</div>
              <div style="color:var(--muted)">
                For supporting our mission! Fill out this short form to show your appreciation towards Indian Army..
            
              
              </div>
            </div>
          </div>
        </div>

      
      </section>

    </div>

    <!-- GOOGLE FORM EMBED -->
    <section class="form-panel" aria-labelledby="formHeading">
      <!-- <div class="form-header">
        <h2 id="formHeading">Optional: Share your details (Google Form)</h2>
        <div style="font-size:0.95rem;color:var(--muted)">Name / Email / Mobile ‚Äî optional</div>
      </div> -->

      <div class="form-body">
        <!-- IMPORTANT: I've set a tall min-height so the form's submit button stays visible on most devices.
             If the submit button is still hidden on certain phones, click "Open form in new tab" below. -->
        <iframe
          id="googleFormIframe"
          class="iframe-wrap"
          src="https://docs.google.com/forms/d/e/1FAIpQLSdjcqEozaYH_HszYX6xVA2sOef40dynLQtV0WLQ-DOMcnl5bQ/viewform?embedded=true"
          width="100%"
          height="1000"
          frameborder="0"
          marginheight="0"
          marginwidth="0"
          title="Contribution form - Meesho Clone">Loading‚Ä¶</iframe>
<!-- 
        <div style="padding:14px;background:#fff;border-top:1px solid #f2f2f2;text-align:center">
          <a id="openFormLink" class="open-link" href="https://docs.google.com/forms/d/e/1FAIpQLSdjcqEozaYH_HszYX6xVA2sOef40dynLQtV0WLQ-DOMcnl5bQ/viewform" target="_blank" rel="noopener">Open form in new tab</a>
        </div> -->
      </div>
        <div style="width:100%;max-width:560px;margin:18px auto 0;text-align:center">
          <div class="question">Have you contributed?</div>
          <div class="choices" role="radiogroup" aria-label="Have you contributed?">
            <button class="btn" id="yesBtn" aria-pressed="false">Yes</button>
            <button class="btn secondary" id="noBtn" aria-pressed="false">No</button>
            <div class="yes-counter" id="yesCount">Yes count: 0</div>
          </div>
        </div>
    </section>
  </main>

  <footer>&copy; 2025 Meesho Clone !</footer>

  <!-- toast -->
  <div id="toast" class="toast" role="status" aria-live="polite" style="display:none">
    <div id="toastMsg" style="font-weight:700"></div>
  </div>

  <script>
    // generate QR (demo). Replace donationLink with a real official donation URL if you want.
    (function setQR(){
      const donationLink = 'https://www.pmindia.gov.in/en/national-defence-fund/#:~:text=The%20fund%20is%20entirely%20dependent,of%20State%20Bank%20of%20India.'; // replace for production
      const label = 'Contribute to Indian Army Fund - Meesho Clone';
      const qrData = donationLink + ' | ' + label;
      const src = 'https://api.qrserver.com/v1/create-qr-code/?size=400x400&data=' + encodeURIComponent(qrData);
      document.getElementById('qrImg').src = src;
    })();

    // toast helper
    function showToast(msg){
      const t = document.getElementById('toast');
      document.getElementById('toastMsg').textContent = msg;
      t.style.display = 'flex';
      setTimeout(()=> t.classList.add('show'), 20);
      setTimeout(()=>{ t.classList.remove('show'); setTimeout(()=> t.style.display='none',300) }, 3200);
    }

    // Yes click tracker using localStorage
    const yesBtn = document.getElementById('yesBtn');
    const noBtn = document.getElementById('noBtn');
    const yesCountEl = document.getElementById('yesCount');

    function getYesCount(){
      return parseInt(localStorage.getItem('yesClickCount') || '0', 10);
    }
    function setYesCount(n){
      localStorage.setItem('yesClickCount', String(n));
      yesCountEl.textContent = 'Yes count: ' + n;
    }

    // init
    (function init(){
      const stored = localStorage.getItem('contributedToArmy');
      if(stored === 'yes'){ yesBtn.setAttribute('aria-pressed','true'); }
      if(stored === 'no'){ noBtn.setAttribute('aria-pressed','true'); }
      setYesCount(getYesCount());
    })();

    // record yes / no
    function recordYes(){
      const newCount = getYesCount() + 1;
      setYesCount(newCount);
      localStorage.setItem('contributedToArmy','yes');
      yesBtn.setAttribute('aria-pressed','true');
      noBtn.setAttribute('aria-pressed','false');
      showToast('Thank you for supporting the Indian Army');

      // optional: GA event if gtag installed
      try{ if(typeof gtag === 'function') gtag('event','contribution_yes',{event_category:'engagement',event_label:'checkout_yes_click',value:newCount}); }catch(e){}

      // optional: send to centralized endpoint (uncomment & provide url)
      /*
      fetch('/.netlify/functions/track-yes', {
        method:'POST', headers:{'Content-Type':'application/json'},
        body: JSON.stringify({count:newCount,t:new Date().toISOString()})
      }).catch(()=>{/* ignore errors for demo *\/});
      */
    }

    function recordNo(){
      localStorage.setItem('contributedToArmy','no');
      yesBtn.setAttribute('aria-pressed','false');
      noBtn.setAttribute('aria-pressed','true');
      showToast('No worries ‚Äî thank you for visiting.');
      try{ if(typeof gtag === 'function') gtag('event','contribution_no',{event_category:'engagement',event_label:'checkout_no_click'}); }catch(e){}
    }

    yesBtn.addEventListener('click', recordYes);
    noBtn.addEventListener('click', recordNo);

    // keep counters in sync across tabs
    window.addEventListener('storage', (e)=>{
      if(e.key === 'yesClickCount') setYesCount(getYesCount());
      if(e.key === 'contributedToArmy'){
        const v = localStorage.getItem('contributedToArmy');
        yesBtn.setAttribute('aria-pressed', v === 'yes');
        noBtn.setAttribute('aria-pressed', v === 'no');
      }
    });

    // Helpful UX: if iframe height is too small on some devices, allow user to open in new tab
    // Also attempt to detect viewport height changes and increase iframe min-height on small devices
    (function adaptiveIframe(){
      const iframe = document.getElementById('googleFormIframe');
      function adjust(){
        const h = Math.max(window.innerHeight - 240, 820); // leave room for header/footer
        iframe.style.minHeight = h + 'px';
      }
      adjust();
      window.addEventListener('resize', adjust);
    })();

    // optional: notify user if iframe didn't load in 6s (useful for blocked iframes)
    setTimeout(()=> {
      const iframe = document.getElementById('googleFormIframe');
      if(!iframe || iframe.getAttribute('src') === '') return;
      const doc = iframe.contentDocument;
      // contentDocument may be null due to cross-origin ‚Äî we use a simple heuristic: show message if height still default
      if(iframe.clientHeight < 800){
        // still acceptable, do nothing. If problem persists, user can click open link.
      }
    }, 6000);

    // forward search like other pages
    const searchInput = document.getElementById('searchInput');
    searchInput && searchInput.addEventListener('keydown', (e)=>{
      if(e.key === 'Enter'){
        sessionStorage.setItem('searchFromCheckout', searchInput.value || '');
        window.location.href = 'index.html';
      }
    });

    // entrance animation
    document.addEventListener('DOMContentLoaded', ()=>{
      document.querySelectorAll('.panel, .form-header').forEach((el,i)=>{
        el.style.opacity = 0;
        el.style.transform = 'translateY(8px)';
        setTimeout(()=>{ el.style.transition = 'opacity .4s ease, transform .4s ease'; el.style.opacity = 1; el.style.transform = 'translateY(0)'; }, 80 + i*80);
      });
    });
  </script>
</body>
</html>

